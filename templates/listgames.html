{% extends 'base.html' %}

{% block content %}
{{ super() }}

{% for cat, msg in get_flashed_messages(True) %}
<div class="flash {{cat}}">{{msg}}</div>
{% endfor %}

<div class="profile-container">
    <h1>{{title}}</h1>
</div>

<div class="cards-container">
    {% for game in games %}
    <a href="{{ url_for('game', game_id=game.id) }}" class="game-card">
        {% if game.cover %}
        <div class="game-cover">
            <img src="data:image/jpeg;base64,{{ game.cover|b64encode }}" alt="{{ game.title }}">
        </div>
        {% endif %}
        <div class="game-title">
            <div class="game-name">{{ game.title }}</div>
            <div class="game-type">
                {% if game.game_type == 'link' %}
                    <img src="{{ url_for('static', filename='images/type/web.png') }}" alt="Web" class="type-icon">
                    <span>Web</span>
                {% elif game.game_type == 'pygame' %}
                    <img src="{{ url_for('static', filename='images/type/pygame.png') }}" alt="Pygame" class="type-icon">
                    <span>Pygame</span>
                {% elif game.game_type == 'unity' %}
                    <img src="{{ url_for('static', filename='images/type/unity.png') }}" alt="Unity" class="type-icon">
                    <span>Unity</span>
                {% endif %}
            </div>
            {% if game.genre %}
            <div class="game-genre">{{ game.genre }}</div>
            {% endif %}
        </div>
    </a>
    {% endfor %}
</div>

{% endblock %}